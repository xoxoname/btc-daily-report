# ğŸ“Š ë¹„íŠ¸ì½”ì¸ ìë™ ì„ ë¬¼ ì˜ˆì¸¡ ì‹œìŠ¤í…œ v2.0

## ğŸ†• ì£¼ìš” ê°œì„ ì‚¬í•­

### 1. **ëª¨ë“ˆí™”ëœ ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œ**
```
report_generators/
â”œâ”€â”€ __init__.py           # í†µí•© ë§¤ë‹ˆì €
â”œâ”€â”€ base_generator.py     # ê³µí†µ ê¸°ëŠ¥
â”œâ”€â”€ regular_report.py     # /report ëª…ë ¹ì–´
â”œâ”€â”€ profit_report.py      # /profit ëª…ë ¹ì–´
â”œâ”€â”€ forecast_report.py    # /forecast ëª…ë ¹ì–´
â”œâ”€â”€ schedule_report.py    # /schedule ëª…ë ¹ì–´
â”œâ”€â”€ exception_report.py   # ê¸´ê¸‰ ì•Œë¦¼
â””â”€â”€ mental_care.py        # ë©˜íƒˆ ì¼€ì–´ ì „ë‹´
```

### 2. **í–¥ìƒëœ ë©˜íƒˆ ì¼€ì–´ ì‹œìŠ¤í…œ**
- ğŸ¯ **ìƒí™©ë³„ ë§ì¶¤ ë©”ì‹œì§€**: ìˆ˜ìµ/ì†ì‹¤ ê·œëª¨ì— ë”°ë¥¸ ë‹¤ì–‘í•œ íŒ¨í„´
- ğŸ’° **êµ¬ì²´ì  ìˆ˜ìµ ì–¸ê¸‰**: "ì˜¤ëŠ˜ $150ì„ ë²Œì—ˆêµ°ìš”!" í˜•íƒœì˜ ê°œì¸í™”
- ğŸ¤ **GPT ì—°ë™**: OpenAI APIë¡œ ë”ìš± ìì—°ìŠ¤ëŸ¬ìš´ ë©˜íŠ¸ ìƒì„±
- ğŸ“Š **ìì‚° ìƒí™© ë°˜ì˜**: ì´ ìì‚°, 7ì¼ ìˆ˜ìµ, ë¯¸ì‹¤í˜„ì†ìµ ì¢…í•© ê³ ë ¤

### 3. **ì •í™•í•œ ë°ì´í„° ì²˜ë¦¬**
- âœ… **í•˜ë“œì½”ë”© ì œê±°**: ëª¨ë“  ìˆ˜ì¹˜ë¥¼ ì‹¤ì œ APIì—ì„œ ì¡°íšŒ
- âœ… **í¬ì§€ì…˜ íŒŒì‹± ê°œì„ **: ìˆ/ë¡±, ì²­ì‚°ê°€, ë ˆë²„ë¦¬ì§€ ì •í™•í•œ í‘œì‹œ
- âœ… **ë¯¸ì‹¤í˜„ì†ìµ ì •í™•**: API ì§ì ‘ ì—°ë™ìœ¼ë¡œ ì‹¤ì‹œê°„ ë°˜ì˜

## ğŸ“ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
bitcoin-prediction-system/
â”œâ”€â”€ main.py                    # ğŸ†• ì—…ë°ì´íŠ¸ëœ ë©”ì¸
â”œâ”€â”€ config.py                  # ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ telegram_bot.py           # í…”ë ˆê·¸ë¨ ë´‡
â”œâ”€â”€ bitget_client.py          # Bitget API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ analysis_engine.py        # GPT ë¶„ì„ ì—”ì§„
â”œâ”€â”€ exception_detector.py     # ì˜ˆì™¸ ìƒí™© ê°ì§€
â”œâ”€â”€ data_collector.py         # ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
â”œâ”€â”€ realistic_news_collector.py # ë‰´ìŠ¤ ìˆ˜ì§‘
â”œâ”€â”€ trading_indicators.py     # ê³ ê¸‰ ì§€í‘œ
â”œâ”€â”€ report_generators/        # ğŸ†• ë¦¬í¬íŠ¸ ìƒì„±ê¸° ëª¨ë“ˆ
â”‚   â”œâ”€â”€ __init__.py          # í†µí•© ë§¤ë‹ˆì €
â”‚   â”œâ”€â”€ base_generator.py    # ê³µí†µ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ regular_report.py    # ì •ê¸° ë¦¬í¬íŠ¸
â”‚   â”œâ”€â”€ profit_report.py     # ìˆ˜ìµ ë¦¬í¬íŠ¸
â”‚   â”œâ”€â”€ forecast_report.py   # ì˜ˆì¸¡ ë¦¬í¬íŠ¸
â”‚   â”œâ”€â”€ schedule_report.py   # ì¼ì • ë¦¬í¬íŠ¸
â”‚   â”œâ”€â”€ exception_report.py  # ì˜ˆì™¸ ë¦¬í¬íŠ¸
â”‚   â””â”€â”€ mental_care.py       # ë©˜íƒˆ ì¼€ì–´
â”œâ”€â”€ requirements.txt         # ì˜ì¡´ì„±
â”œâ”€â”€ Dockerfile              # ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ render.yaml             # ë°°í¬ ì„¤ì •
â””â”€â”€ README.md               # í”„ë¡œì íŠ¸ ì„¤ëª…
```

## ğŸš€ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²• (ê¸°ì¡´ê³¼ ë™ì¼)
```python
# main.pyì—ì„œ ìë™ìœ¼ë¡œ ëª¨ë“  ë¦¬í¬íŠ¸ ìƒì„±ê¸° ì´ˆê¸°í™”
system = BitcoinPredictionSystem()
await system.start()
```

### ê°œë³„ ë¦¬í¬íŠ¸ ìƒì„±ê¸° ì‚¬ìš©ë²•
```python
from report_generators import ReportGeneratorManager

# ë¦¬í¬íŠ¸ ë§¤ë‹ˆì € ì´ˆê¸°í™”
manager = ReportGeneratorManager(config, data_collector, indicator_system)
manager.set_bitget_client(bitget_client)

# ê°ì¢… ë¦¬í¬íŠ¸ ìƒì„±
regular_report = await manager.generate_regular_report()      # /report
profit_report = await manager.generate_profit_report()       # /profit
forecast_report = await manager.generate_forecast_report()   # /forecast
schedule_report = await manager.generate_schedule_report()   # /schedule

# ì˜ˆì™¸ ìƒí™© ë¦¬í¬íŠ¸
event_data = {'type': 'price_anomaly', 'severity': 'high', ...}
exception_report = await manager.generate_exception_report(event_data)

# ë…ë¦½ì ì¸ ë©˜íƒˆ ì¼€ì–´
mental_message = await manager.generate_custom_mental_care(
    account_info, position_info, today_pnl, weekly_profit
)
```

## ğŸ§  ìƒˆë¡œìš´ ë©˜íƒˆ ì¼€ì–´ ê¸°ëŠ¥

### ë‹¤ì–‘í•œ ìƒí™©ë³„ ë©”ì‹œì§€ íŒ¨í„´

**í° ìˆ˜ìµ ì‹œ:**
```
"ì˜¤ëŠ˜ $150ì„ ë²Œì–´ë“¤ì˜€êµ°ìš”! í˜„ì¬ ìì‚° $6,623ì€ ë‹¹ì‹ ì˜ ì‹¤ë ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. 
í•˜ì§€ë§Œ ì‹œì¥ì€ ë³€ë•ìŠ¤ëŸ¬ìš°ë‹ˆ ê²¸ì†í•¨ì„ ìŠì§€ ë§ˆì„¸ìš”. ğŸ¯"
```

**ê¾¸ì¤€í•œ ìˆ˜ìµ ì‹œ:**
```
"$50 ë²Œì—ˆêµ°ìš”! í° ëˆì€ ì•„ë‹ˆì–´ë„ ê¾¸ì¤€í•¨ì´ ë³µë¦¬ì˜ í˜ì„ ë§Œë“­ë‹ˆë‹¤. 
í˜„ì¬ ìì‚° $6,623ì„ ë°”íƒ•ìœ¼ë¡œ ì°¨ê·¼ì°¨ê·¼ ëŠ˜ë ¤ê°€ì„¸ìš”. ğŸŒ±"
```

**ì†ì‹¤ ì‹œ:**
```
"í˜„ì¬ $30 ë§ˆì´ë„ˆìŠ¤ ìƒíƒœë„¤ìš”. í•˜ì§€ë§Œ ìµœê·¼ 7ì¼ê°„ $1,380ì„ ë²Œì—ˆìœ¼ë‹ˆ 
ì¼ì‹œì ì¸ ì¡°ì •ì¼ ìˆ˜ ìˆì–´ìš”. ì†ì ˆ ê¸°ì¤€ì„ ëª…í™•íˆ í•˜ê³  ì°¨ë¶„í•˜ê²Œ ëŒ€ì‘í•˜ì„¸ìš”. ğŸ§˜â€â™‚ï¸"
```

### GPT ê¸°ë°˜ ê°œì¸í™” ë©”ì‹œì§€
- OpenAI API ì—°ë™ìœ¼ë¡œ ìƒí™©ì— ë§ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ì¡°ì–¸
- êµ¬ì²´ì  ìˆ˜ìµ/ì†ì‹¤ ê¸ˆì•¡ ì–¸ê¸‰
- ì´ ìì‚°, 7ì¼ ìˆ˜ìµ ë“± ì¢…í•©ì  ê³ ë ¤

## ğŸ¯ ê° ë¦¬í¬íŠ¸ì˜ íŠ¹ì§•

### ğŸ’° ìˆ˜ìµ ë¦¬í¬íŠ¸ (/profit)
- **ì‹¤ì‹œê°„ í¬ì§€ì…˜**: ìˆ/ë¡±, ì§„ì…ê°€, ì²­ì‚°ê°€, ë ˆë²„ë¦¬ì§€
- **ì •í™•í•œ ì†ìµ**: API ì§ì ‘ ì—°ë™, í•˜ë“œì½”ë”© ì œê±°
- **ê°œì¸í™” ë©˜íƒˆì¼€ì–´**: ìˆ˜ìµ ìƒí™©ë³„ ë§ì¶¤ ë©”ì‹œì§€

### ğŸ“ˆ ì˜ˆì¸¡ ë¦¬í¬íŠ¸ (/forecast)
- **ë‹¨ê¸° ì§‘ì¤‘**: 12ì‹œê°„ ë‚´ ê°€ê²© íë¦„ ì˜ˆì¸¡
- **ê°„ê²°í•œ ì •ë³´**: í•µì‹¬ ë¶„ì„ê³¼ ì „ëµ ì œì•ˆ
- **ë¹ ë¥¸ íŒë‹¨**: ë§¤ë§¤ ê²°ì •ì— í•„ìš”í•œ ì •ë³´ë§Œ ì••ì¶•

### ğŸ§¾ ì •ê¸° ë¦¬í¬íŠ¸ (/report)
- **ì¢…í•© ë¶„ì„**: ì‹œì¥ ì´ë²¤íŠ¸ë¶€í„° ì˜ˆì¸¡ê¹Œì§€ ì „ì²´
- **ìë™ ë°œì†¡**: 09:00, 13:00, 17:00, 23:00 (KST)
- **ê²€ì¦ ê²°ê³¼**: ì´ì „ ì˜ˆì¸¡ ì •í™•ë„ ì¶”ì 

### ğŸ“… ì¼ì • ë¦¬í¬íŠ¸ (/schedule)
- **ê²½ì œ ì´ë²¤íŠ¸**: FOMC, ETF ìŠ¹ì¸ ë“± ì£¼ìš” ì¼ì •
- **ì˜í–¥ë„ í‰ê°€**: ê° ì´ë²¤íŠ¸ì˜ í˜¸ì¬/ì•…ì¬ íŒë‹¨

### ğŸš¨ ì˜ˆì™¸ ë¦¬í¬íŠ¸ (ìë™)
- **ì¦‰ì‹œ ì•Œë¦¼**: ê¸‰ë³€ë™, ëŒ€ëŸ‰ ê±°ë˜ ë“± ê°ì§€ ì‹œ ìë™ ë°œì†¡
- **GPT ë¶„ì„**: ìƒí™©ë³„ ì „ë¬¸ì  ë¶„ì„ê³¼ ëŒ€ì‘ ì „ëµ
- **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: êµ¬ì²´ì ì¸ í¬ì§€ì…˜ ê´€ë¦¬ ë°©ì•ˆ ì œì‹œ

## ğŸ”§ ê°œë°œìë¥¼ ìœ„í•œ í™•ì¥ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ë¦¬í¬íŠ¸ ìœ í˜• ì¶”ê°€
1. `report_generators/`ì— ìƒˆ íŒŒì¼ ìƒì„±
2. `BaseReportGenerator` ìƒì†
3. `generate_report()` ë©”ì„œë“œ êµ¬í˜„
4. `ReportGeneratorManager`ì— ë“±ë¡

### ë©˜íƒˆ ì¼€ì–´ íŒ¨í„´ ì¶”ê°€
```python
# mental_care.pyì˜ íŒ¨í„´ ë©”ì„œë“œì— ìƒˆë¡œìš´ ì¡°ê±´ ì¶”ê°€
def _analyze_trading_situation(self, today_pnl, unrealized_pnl, weekly_total):
    # ìƒˆë¡œìš´ ìƒí™© ë¶„ë¥˜ ë¡œì§
    if new_condition:
        return "new_situation_type"
        
def _new_situation_messages(self, ...):
    # ìƒˆë¡œìš´ ìƒí™©ë³„ ë©”ì‹œì§€ íŒ¨í„´
    patterns = [...]
    return random.choice(patterns)
```

## ğŸ‰ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

ê¸°ì¡´ `report_generator.py`ì—ì„œ ìƒˆë¡œìš´ ëª¨ë“ˆì‹ êµ¬ì¡°ë¡œ ì „í™˜:

```python
# ê¸°ì¡´
from report_generator import EnhancedReportGenerator
generator = EnhancedReportGenerator(config, data_collector, indicators)

# ìƒˆë¡œìš´ ë°©ì‹
from report_generators import ReportGeneratorManager
manager = ReportGeneratorManager(config, data_collector, indicators)

# ë©”ì„œë“œëª… ë³€ê²½
# generator.generate_profit_report() â†’ manager.generate_profit_report()
```

í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ê¸°ì¡´ í´ë˜ìŠ¤ëª…ë„ ìœ ì§€ë©ë‹ˆë‹¤.

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

- **ë³‘ë ¬ ë°ì´í„° ìˆ˜ì§‘**: asyncio.gatherë¡œ API í˜¸ì¶œ ìµœì í™”
- **ìºì‹± ì‹œìŠ¤í…œ**: ì¤‘ë³µ API í˜¸ì¶œ ë°©ì§€
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ì´ë²¤íŠ¸ ë²„í¼ ìë™ ì •ë¦¬
- **ì˜¤ë¥˜ ì²˜ë¦¬**: ê²¬ê³ í•œ ì˜ˆì™¸ ì²˜ë¦¬ì™€ í´ë°± ì‹œìŠ¤í…œ

ì´ì œ ê° ë¦¬í¬íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ê³ , ë©˜íƒˆ ì¼€ì–´ê°€ ë”ìš± ê°œì¸í™”ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš€
